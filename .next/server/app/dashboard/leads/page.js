(()=>{var e={};e.id=348,e.ids=[348],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57310:e=>{"use strict";e.exports=require("url")},13588:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c});var t=a(67096),l=a(16132),r=a(37284),n=a.n(r),i=a(32564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let c=["",{children:["dashboard",{children:["leads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,75844)),"/Users/advikjaiswal/whop-lead-gen/app/dashboard/leads/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,15581)),"/Users/advikjaiswal/whop-lead-gen/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,10743)),"/Users/advikjaiswal/whop-lead-gen/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/advikjaiswal/whop-lead-gen/app/dashboard/leads/page.tsx"],x="/dashboard/leads/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/leads/page",pathname:"/dashboard/leads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1902:(e,s,a)=>{Promise.resolve().then(a.bind(a,95057))},95057:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>LeadsPage});var t=a(30784),l=a(9885),r=a.n(l),n=a(89139),i=a(85574),d=a(6315),c=a(70696),o=a(91672),x=a(50007),u=a(18310),m=a(69518),h=a(12029),g=a(95555),j=a(33770),p=a(20599),f=a(61890),v=a(80754),y=a(3352),b=a(29137),N=a(28626),w=a(65688),C=a(26303),k=a(98699);let S=l.forwardRef(({className:e,...s},a)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:a,className:(0,k.cn)("w-full caption-bottom text-sm",e),...s})}));S.displayName="Table";let D=l.forwardRef(({className:e,...s},a)=>t.jsx("thead",{ref:a,className:(0,k.cn)("[&_tr]:border-b",e),...s}));D.displayName="TableHeader";let L=l.forwardRef(({className:e,...s},a)=>t.jsx("tbody",{ref:a,className:(0,k.cn)("[&_tr:last-child]:border-0",e),...s}));L.displayName="TableBody";let _=l.forwardRef(({className:e,...s},a)=>t.jsx("tfoot",{ref:a,className:(0,k.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s}));_.displayName="TableFooter";let E=l.forwardRef(({className:e,...s},a)=>t.jsx("tr",{ref:a,className:(0,k.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));E.displayName="TableRow";let A=l.forwardRef(({className:e,...s},a)=>t.jsx("th",{ref:a,className:(0,k.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));A.displayName="TableHead";let Z=l.forwardRef(({className:e,...s},a)=>t.jsx("td",{ref:a,className:(0,k.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));Z.displayName="TableCell";let z=l.forwardRef(({className:e,...s},a)=>t.jsx("caption",{ref:a,className:(0,k.cn)("mt-4 text-sm text-muted-foreground",e),...s}));z.displayName="TableCaption";let getStatusVariant=e=>{switch(e){case"new":return"info";case"contacted":return"warning";case"responded":return"secondary";case"converted":return"success";case"ignored":return"outline";case"unqualified":return"destructive";default:return"default"}},getGradeColor=e=>{switch(e){case"A":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"B":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"C":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400";case"D":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20 dark:text-gray-400"}},getSourceIcon=e=>{switch(e){case"reddit":return"\uD83D\uDFE0";case"twitter":return"\uD83D\uDC26";case"discord":return"\uD83D\uDCAC";case"manual":return"âœ‹";default:return"\uD83D\uDCC4"}};function LeadsTable({leads:e,loading:s=!1,onViewLead:a,onContactLead:l,onDeleteLead:r,className:i}){return s?(0,t.jsxs)(p.Zb,{className:i,children:[t.jsx(p.Ol,{children:t.jsx("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[t.jsx("div",{className:"h-6 w-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse mb-2"}),t.jsx("div",{className:"h-4 w-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})})}),t.jsx(p.aY,{children:t.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"h-10 w-10 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),t.jsx("div",{className:"h-3 w-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),t.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]},s))})})]}):(0,t.jsxs)(p.Zb,{className:i,children:[t.jsx(p.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx(p.ll,{children:"Leads"}),t.jsx(p.SZ,{children:"Manage and track your discovered leads"})]}),(0,t.jsxs)(f.C,{variant:"secondary",className:"text-sm",children:[e.length," total"]})]})}),t.jsx(p.aY,{children:0===e.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-4",children:"\uD83D\uDC65"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No leads found"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by importing leads or running a discovery campaign"}),t.jsx(g.z,{children:"Import Leads"})]}):t.jsx("div",{className:"rounded-md border",children:(0,t.jsxs)(S,{children:[t.jsx(D,{children:(0,t.jsxs)(E,{children:[t.jsx(A,{children:"Lead"}),t.jsx(A,{children:"Source"}),t.jsx(A,{children:"Score"}),t.jsx(A,{children:"Grade"}),t.jsx(A,{children:"Status"}),t.jsx(A,{children:"Content"}),t.jsx(A,{className:"w-[100px]",children:"Actions"})]})}),t.jsx(L,{children:e.map((e,s)=>(0,t.jsxs)(n.E.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},className:"group hover:bg-muted/50",children:[t.jsx(Z,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:(0,k.cn)("flex h-10 w-10 items-center justify-center rounded-full text-white text-sm font-medium",`bg-gradient-to-br ${(0,k.uI)(e.name)}`),children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase()}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:e.name}),e.email&&t.jsx("p",{className:"text-sm text-muted-foreground",children:e.email}),e.username&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",e.username]})]})]})}),t.jsx(Z,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-lg",children:getSourceIcon(e.source)}),t.jsx("span",{className:"capitalize text-sm",children:e.source})]})}),t.jsx(Z,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${100*e.intentScore}%`}})}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(100*e.intentScore),"%"]})]})}),t.jsx(Z,{children:t.jsx("span",{className:(0,k.cn)("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",getGradeColor(e.qualityGrade)),children:e.qualityGrade})}),t.jsx(Z,{children:t.jsx(f.C,{variant:getStatusVariant(e.status),children:e.status.replace("_"," ")})}),t.jsx(Z,{children:t.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:(0,k.aF)(e.content,80)})}),t.jsx(Z,{children:(0,t.jsxs)(v.h_,{children:[t.jsx(v.$F,{asChild:!0,children:t.jsx(g.z,{variant:"ghost",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100",children:t.jsx(b.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(v.AW,{align:"end",children:[t.jsx(v.Ju,{children:"Actions"}),(0,t.jsxs)(v.Xi,{onClick:()=>a?.(e),children:[t.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,t.jsxs)(v.Xi,{onClick:()=>l?.(e),children:[t.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Contact Lead"]}),e.url&&(0,t.jsxs)(v.Xi,{onClick:()=>window.open(e.url,"_blank"),children:[t.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"View Source"]}),t.jsx(v.VD,{}),(0,t.jsxs)(v.Xi,{onClick:()=>r?.(e.id),className:"text-red-600",children:[t.jsx(C.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})})})]})}var F=a(80087),P=a(92032),T=a(32451);function Select({value:e,onValueChange:s,children:a}){let[n,i]=(0,l.useState)(!1),[d,c]=(0,l.useState)(e||""),[o,x]=(0,l.useState)(""),u=(0,l.useRef)(null);(0,l.useEffect)(()=>{let handleClickOutside=e=>{u.current&&!u.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[]);let handleValueSelect=(e,a)=>{c(e),x(a),i(!1),s?.(e)};return t.jsx("div",{className:"relative",ref:u,children:r().Children.map(a,e=>{if(r().isValidElement(e)){if(e.type===SelectTrigger)return r().cloneElement(e,{...e.props,onClick:()=>i(!n),selectedLabel:o});if(e.type===SelectContent&&n)return r().cloneElement(e,{...e.props,onValueSelect:handleValueSelect})}return e})})}function SelectTrigger({className:e="",children:s,onClick:a,selectedLabel:l}){return(0,t.jsxs)("button",{type:"button",onClick:a,className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,children:[l||s,t.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 opacity-50",children:t.jsx("path",{d:"m4.93179 5.43179c0.20081-0.20081 0.52632-0.20081 0.72713 0l2.84108 2.84108 2.8411-2.84108c0.2008-0.20081 0.5263-0.20081 0.7271 0 0.2008 0.20081 0.2008 0.52632 0 0.72713l-3.2047 3.20472c-0.2008 0.2008-0.5263 0.2008-0.7271 0l-3.20472-3.20472c-0.20081-0.20081-0.20081-0.52632 0-0.72713z",fill:"currentColor"})})]})}function SelectValue({placeholder:e}){return t.jsx("span",{className:"text-muted-foreground",children:e||"Select an option"})}function SelectContent({children:e,onValueSelect:s}){return t.jsx("div",{className:"absolute top-full left-0 right-0 z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 shadow-md mt-1",children:r().Children.map(e,e=>r().isValidElement(e)&&e.type===SelectItem?r().cloneElement(e,{...e.props,onSelect:s}):e)})}function SelectItem({value:e,children:s,onSelect:a}){return t.jsx("div",{onClick:()=>{a?.(e,"string"==typeof s?s:e)},className:"relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-2 pr-2 text-sm outline-none hover:bg-gray-100 focus:bg-gray-100",children:s})}function Dialog({open:e,onOpenChange:s,children:a}){return e?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>s?.(!1)}),t.jsx("div",{className:"relative z-50 w-full max-w-lg mx-4",children:a})]}):null}function DialogContent({className:e="",children:s}){return t.jsx("div",{className:`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 sm:rounded-lg ${e}`,children:s})}function DialogHeader({children:e}){return t.jsx("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:e})}function DialogTitle({className:e="",children:s}){return t.jsx("h3",{className:`text-lg font-semibold leading-none tracking-tight ${e}`,children:s})}function DialogDescription({children:e}){return t.jsx("p",{className:"text-sm text-muted-foreground",children:e})}var M=a(39576),q=a(9941);let R=[{value:"trading",label:"Trading & Finance"},{value:"saas",label:"SaaS & Development"},{value:"fitness",label:"Fitness & Health"},{value:"marketing",label:"Digital Marketing"},{value:"ecommerce",label:"E-commerce"},{value:"coaching",label:"Coaching & Consulting"},{value:"crypto",label:"Cryptocurrency"},{value:"gaming",label:"Gaming"},{value:"education",label:"Education"},{value:"real-estate",label:"Real Estate"}];function LeadDiscoveryModal({isOpen:e,onClose:s,onLeadsDiscovered:a}){let[r,i]=l.useState(1),[d,o]=l.useState(!1),[x,u]=l.useState(""),[m,h]=l.useState([]),[v,y]=l.useState(""),[b,N]=l.useState([]),[w,C]=l.useState(""),[k,S]=l.useState(20),[D,L]=l.useState(null),[_,E]=l.useState([]),resetForm=()=>{i(1),u(""),h([]),y(""),N([]),C(""),S(20),L(null),E([]),o(!1)},handleClose=()=>{resetForm(),s()},handleNicheSelect=async e=>{u(e),o(!0);try{let s=await M.LM.getCriteriaTemplate(e);s.success&&s.data&&(L(s.data.template),h(s.data.template.keywords||[]),N(s.data.template.subreddits||[]))}catch(e){console.error("Failed to load template:",e),q.toast.error("Failed to load niche template")}finally{o(!1)}},addKeyword=()=>{v.trim()&&!m.includes(v.trim())&&(h([...m,v.trim()]),y(""))},removeKeyword=e=>{h(m.filter(s=>s!==e))},addSubreddit=()=>{w.trim()&&!b.includes(w.trim())&&(N([...b,w.trim()]),C(""))},removeSubreddit=e=>{N(b.filter(s=>s!==e))},handleDiscoverLeads=async()=>{if(0===m.length){q.toast.error("Please add at least one keyword");return}o(!0),i(3);try{let e=await M.LM.discoverLeads({niche:x,keywords:m,subreddits:b,maxLeads:k});if(e.success&&e.data)E(e.data),q.toast.success(`Discovered ${e.data.length} new leads!`),i(4);else throw Error(e.error||"Failed to discover leads")}catch(e){console.error("Lead discovery failed:",e),q.toast.error("Failed to discover leads"),i(2)}finally{o(!1)}};return t.jsx(Dialog,{open:e,onOpenChange:handleClose,children:(0,t.jsxs)(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(DialogHeader,{children:[(0,t.jsxs)(DialogTitle,{className:"flex items-center space-x-2",children:[t.jsx(c.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Discover New Leads"})]}),t.jsx(DialogDescription,{children:"Use AI-powered discovery to find high-quality leads for your community"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:`
                  w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium
                  ${r>=e?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"}
                `,children:e}),e<4&&t.jsx("div",{className:`
                    w-16 h-1 mx-2
                    ${r>e?"bg-blue-500":"bg-gray-200"}
                  `})]},e))}),1===r&&(0,t.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(T._,{htmlFor:"niche",children:"Select Your Community Niche"}),(0,t.jsxs)(Select,{value:x,onValueChange:handleNicheSelect,children:[t.jsx(SelectTrigger,{children:t.jsx(SelectValue,{placeholder:"Choose your niche..."})}),t.jsx(SelectContent,{children:R.map(e=>t.jsx(SelectItem,{value:e.value,children:e.label},e.value))})]})]}),D&&(0,t.jsxs)(p.Zb,{children:[(0,t.jsxs)(p.Ol,{children:[t.jsx(p.ll,{className:"text-sm",children:"Template Preview"}),t.jsx(p.SZ,{children:D.target_demographic})]}),t.jsx(p.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Keywords: "}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[D.keywords?.slice(0,3).join(", "),D.keywords?.length>3&&"..."]})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-sm font-medium",children:"Pain Points: "}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[D.pain_points?.slice(0,2).join(", "),D.pain_points?.length>2&&"..."]})]})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(g.z,{onClick:()=>i(2),disabled:!x||d,children:d?(0,t.jsxs)(t.Fragment,{children:[t.jsx(F.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Next"})})]}),2===r&&(0,t.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(T._,{children:"Target Keywords"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(j.I,{placeholder:"Enter keyword...",value:v,onChange:e=>y(e.target.value),onKeyPress:e=>"Enter"===e.key&&addKeyword()}),t.jsx(g.z,{onClick:addKeyword,size:"sm",children:"Add"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(e=>(0,t.jsxs)(f.C,{variant:"secondary",className:"cursor-pointer",onClick:()=>removeKeyword(e),children:[e," \xd7"]},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(T._,{children:"Target Subreddits"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(j.I,{placeholder:"Enter subreddit name...",value:w,onChange:e=>C(e.target.value),onKeyPress:e=>"Enter"===e.key&&addSubreddit()}),t.jsx(g.z,{onClick:addSubreddit,size:"sm",children:"Add"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(e=>(0,t.jsxs)(f.C,{variant:"outline",className:"cursor-pointer",onClick:()=>removeSubreddit(e),children:["r/",e," \xd7"]},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(T._,{htmlFor:"maxLeads",children:"Maximum Leads to Discover"}),t.jsx(j.I,{id:"maxLeads",type:"number",min:"1",max:"100",value:k,onChange:e=>S(parseInt(e.target.value)||20)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx(g.z,{variant:"outline",onClick:()=>i(1),children:"Back"}),t.jsx(g.z,{onClick:handleDiscoverLeads,disabled:0===m.length,children:"Discover Leads"})]})]}),3===r&&(0,t.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[t.jsx(F.Z,{className:"h-12 w-12 animate-spin mx-auto text-blue-500"}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Discovering Leads..."}),t.jsx("p",{className:"text-muted-foreground",children:"Searching Reddit for potential leads matching your criteria"})]})]}),4===r&&(0,t.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[t.jsx(P.Z,{className:"h-5 w-5"}),t.jsx("span",{className:"font-medium",children:"Discovery Complete!"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Leads Discovered"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.filter(e=>"A"===e.qualityGrade||"B"===e.qualityGrade).length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"High Quality (A-B)"})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(_.reduce((e,s)=>e+s.intentScore,0)/_.length*100),"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Intent Score"})]})]}),(0,t.jsxs)("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[_.slice(0,5).map(e=>t.jsx(p.Zb,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground truncate max-w-md",children:[e.summary||e.content.slice(0,100),"..."]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(f.C,{variant:"A"===e.qualityGrade?"default":"B"===e.qualityGrade?"secondary":"outline",children:e.qualityGrade}),(0,t.jsxs)(f.C,{variant:"outline",children:[Math.round(100*e.intentScore),"%"]})]})]})},e.id)),_.length>5&&(0,t.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["+",_.length-5," more leads..."]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx(g.z,{variant:"outline",onClick:()=>i(2),children:"Discover More"}),t.jsx(g.z,{onClick:()=>{a(_),handleClose()},children:"Add Leads to Dashboard"})]})]})]})]})})}function LeadsPage(){let[e,s]=l.useState([]),[a,r]=l.useState(!0),[b,N]=l.useState(""),[w,C]=l.useState("all"),[k,S]=l.useState("all"),[D,L]=l.useState(!1),[_,E]=l.useState(!1);l.useEffect(()=>{let fetchLeads=async()=>{try{r(!0);let e=await M.LM.getLeads();e.success&&e.data?s(e.data.leads||[]):(console.error("Failed to fetch leads:",e.error),q.toast.error("Failed to load leads"))}catch(e){console.error("Error fetching leads:",e),q.toast.error("Error loading leads")}finally{r(!1)}};fetchLeads()},[]);let A=l.useMemo(()=>e.filter(e=>{let s=e.name.toLowerCase().includes(b.toLowerCase())||e.email?.toLowerCase().includes(b.toLowerCase())||e.username?.toLowerCase().includes(b.toLowerCase())||e.content.toLowerCase().includes(b.toLowerCase()),a="all"===w||e.status===w,t="all"===k||e.source===k;return s&&a&&t}),[e,b,w,k]),Z=l.useMemo(()=>{let s=e.length,a=e.filter(e=>"new"===e.status).length,t=e.filter(e=>"contacted"===e.status).length,l=e.filter(e=>"converted"===e.status).length,r=e.reduce((e,s)=>e+s.intentScore,0)/e.length*100;return{total:s,new:a,contacted:t,converted:l,avgScore:Math.round(r),conversionRate:Math.round(10*(s>0?l/s*100:0))/10}},[e]),handleDeleteLead=async e=>{try{let a=await M.LM.deleteLead(e);a.success?(s(s=>s.filter(s=>s.id!==e)),q.toast.success("Lead deleted successfully")):q.toast.error("Failed to delete lead")}catch(e){console.error("Error deleting lead:",e),q.toast.error("Error deleting lead")}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Leads"}),t.jsx("p",{className:"text-muted-foreground",children:"Discover, manage, and convert high-quality leads for your community."})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(g.z,{variant:"outline",size:"sm",children:[t.jsx(i.Z,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,t.jsxs)(g.z,{variant:"outline",size:"sm",onClick:()=>{L(!0),setTimeout(()=>{L(!1)},2e3)},loading:D,children:[t.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Import"]}),(0,t.jsxs)(g.z,{size:"sm",onClick:()=>{E(!0)},children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Discover Leads"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx(y.A,{title:"Total Leads",value:Z.total,icon:c.Z,format:"number"}),t.jsx(y.A,{title:"New Leads",value:Z.new,change:15.2,trend:"up",icon:o.Z,format:"number"}),t.jsx(y.A,{title:"Avg. Intent Score",value:Z.avgScore,change:8.1,trend:"up",icon:x.Z,format:"percentage"}),t.jsx(y.A,{title:"Conversion Rate",value:Z.conversionRate,change:-2.3,trend:"down",icon:u.Z,format:"percentage"})]}),(0,t.jsxs)(p.Zb,{children:[(0,t.jsxs)(p.Ol,{children:[t.jsx(p.ll,{children:"Filters"}),t.jsx(p.SZ,{children:"Search and filter your leads to find exactly what you're looking for"})]}),(0,t.jsxs)(p.aY,{children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:space-y-0 md:space-x-4",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(m.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t.jsx(j.I,{placeholder:"Search leads by name, email, or content...",value:b,onChange:e=>N(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(v.h_,{children:[t.jsx(v.$F,{asChild:!0,children:(0,t.jsxs)(g.z,{variant:"outline",children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Status: ","all"===w?"All":w]})}),(0,t.jsxs)(v.AW,{children:[t.jsx(v.Ju,{children:"Filter by Status"}),t.jsx(v.VD,{}),t.jsx(v.Xi,{onClick:()=>C("all"),children:"All Statuses"}),t.jsx(v.Xi,{onClick:()=>C("new"),children:"New"}),t.jsx(v.Xi,{onClick:()=>C("contacted"),children:"Contacted"}),t.jsx(v.Xi,{onClick:()=>C("responded"),children:"Responded"}),t.jsx(v.Xi,{onClick:()=>C("converted"),children:"Converted"}),t.jsx(v.Xi,{onClick:()=>C("ignored"),children:"Ignored"})]})]}),(0,t.jsxs)(v.h_,{children:[t.jsx(v.$F,{asChild:!0,children:(0,t.jsxs)(g.z,{variant:"outline",children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Source: ","all"===k?"All":k]})}),(0,t.jsxs)(v.AW,{children:[t.jsx(v.Ju,{children:"Filter by Source"}),t.jsx(v.VD,{}),t.jsx(v.Xi,{onClick:()=>S("all"),children:"All Sources"}),t.jsx(v.Xi,{onClick:()=>S("reddit"),children:"Reddit"}),t.jsx(v.Xi,{onClick:()=>S("twitter"),children:"Twitter"}),t.jsx(v.Xi,{onClick:()=>S("discord"),children:"Discord"}),t.jsx(v.Xi,{onClick:()=>S("manual"),children:"Manual"})]})]}),(b||"all"!==w||"all"!==k)&&t.jsx(g.z,{variant:"ghost",onClick:()=>{N(""),C("all"),S("all")},children:"Clear Filters"})]}),A.length!==e.length&&t.jsx("div",{className:"mt-4",children:(0,t.jsxs)(f.C,{variant:"secondary",children:["Showing ",A.length," of ",e.length," leads"]})})]})]}),t.jsx(LeadsTable,{leads:A,loading:a||D,onViewLead:e=>{console.log("View lead:",e)},onContactLead:e=>{console.log("Contact lead:",e)},onDeleteLead:handleDeleteLead}),t.jsx(LeadDiscoveryModal,{isOpen:_,onClose:()=>E(!1),onLeadsDiscovered:e=>{s(s=>[...e,...s]),q.toast.success(`${e.length} new leads discovered!`)}})]})}},32451:(e,s,a)=>{"use strict";a.d(s,{_:()=>c});var t=a(30784),l=a(9885),r=a(43618),n=a(91971),i=a(98699);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef(({className:e,...s},a)=>t.jsx(r.f,{ref:a,className:(0,i.cn)(d(),e),...s}));c.displayName=r.f.displayName},75844:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>r,default:()=>d});var t=a(95153);let l=(0,t.createProxy)(String.raw`/Users/advikjaiswal/whop-lead-gen/app/dashboard/leads/page.tsx`),{__esModule:r,$$typeof:n}=l,i=l.default,d=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[572,123,760,88,871,290,208,332,312,861,576,352,472,890],()=>__webpack_exec__(13588));module.exports=a})();